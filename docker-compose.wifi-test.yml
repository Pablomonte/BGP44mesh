# Docker Compose Override for WiFi Test
# Simplified setup without macvlan

version: '3.8'

services:
  bird1:
    network_mode: host  # Use host networking to access WiFi interface
    environment:
      - ISP_ENABLED=true
      - ISP_NEIGHBOR=${ISP_NEIGHBOR}
      - ISP_LOCAL_IP=${ISP_LOCAL_IP}
      - BGP_AS=${BGP_AS}
    volumes:
      - ./configs/bird:/etc/bird:ro
      - tinc-socket:/var/run/tinc:ro

  tinc1:
    networks:
      mesh-net:
      cluster-net:
    volumes:
      - tinc-data:/var/run/tinc
      - tinc-socket:/var/run/tinc

volumes:
  tinc-data:
  tinc-socket:
